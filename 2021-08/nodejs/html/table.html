<!DOCTYPE html>
<html>
  <head>
    <meta charset="gbk" />
    <title>table</title>
  </head>
  <script>
    document.addEventListener("keydown", function(e) {
      console.log('down');
    })
    document.addEventListener("keyup", function(e) {
      console.log('up');
    })
    .addEventListener('keydown', function (event) {
      console.log('down');
    });
    const onkeydown = () => {
      console.log('down');
    };
  </script>
  <body>
    <div id="button">hello</div>
    <input placeholder="Input a number" maxlength="16" class="ant-input ant-input-outlined css-var-r178 ant-input-css-var" type="text" value="" style="width: 70px;">
    <input type="text" style="" placeholder="1234 1234 1234 1234 1234 1234 1234" title="1234 1234 1234 1234 1234 1234 1234"/>
    <table id="tb_1" cellspacing="0" cellpadding="2" width="100%" border="1">
      <tbody>
        <tr align="center" bgcolor="#dcdcdc">
          <td style="width: 100px">??????</td>
          <td>???????</td>
          <td>??????</td>
          <td>???</td>
          <td>???????</td>
          <td>???????</td>
          <td>????</td>
          <td>????</td>
        </tr>
        <tr>
          <td>2000001</td>
          <td>1997-3-13</td>
          <td>1997-3-13</td>
          <td>1</td>
          <td>WZJ</td>
          <td>1965-3-13</td>
          <td>??</td>
          <td>171</td>
        </tr>
        <tr>
          <td>2000045</td>
          <td>2001-2-15</td>
          <td>2001-3-15</td>
          <td>0</td>
          <td>WY</td>
          <td>1978-8-5</td>
          <td>??</td>
          <td>162</td>
        </tr>
        <tr>
          <td>2000046</td>
          <td>2001-2-23</td>
          <td>2001-3-23</td>
          <td>0</td>
          <td>LQ</td>
          <td>2001-2-23</td>
          <td>??</td>
          <td>171</td>
        </tr>
      </tbody>
    </table>

    <script type="text/javascript">
      var tTD; //?????›¥???????????Table Cell,??????????????????
      var table = document.getElementById('tb_1');
      console.log(table.rows[0]); //?????
      for (j = 0; j < table.rows[0].cells.length; j++) {
        table.rows[0].cells[j].onmousedown = function () {
          console.log('event', event);
          //????????
          tTD = this;
          if (event.offsetX > tTD.offsetWidth - 10) {
            tTD.mouseDown = true;
            tTD.oldX = event.x;
            tTD.oldWidth = tTD.offsetWidth;
          }
          //???Table????
          //table = tTD; while (table.tagName != ??TABLE') table = table.parentElement;
          //tTD.tableWidth = table.offsetWidth;
        };
        table.rows[0].cells[j].onmouseup = function () {
          //???????????
          tTD.mouseDown = false;
          tTD.style.cursor = 'default';
          tTD = null;
        };
        table.rows[0].cells[j].onmousemove = function () {
          //??????????
          if (event.offsetX > this.offsetWidth - 10) {
            this.style.cursor = 'col-resize';
          } else {
            this.style.cursor = 'default';
          }
          //???????Table Cell
          if (tTD == undefined) {
            tTD = this;
          }
          //????????
          if (tTD.mouseDown != null && tTD.mouseDown == true) {
            tTD.style.cursor = 'default';
            if (tTD.oldWidth + (event.x - tTD.oldX) > 0) {
              tTD.width = tTD.oldWidth + (event.x - tTD.oldX);
              //?????§á?
              tTD.style.width = tTD.width;
              tTD.style.cursor = 'col-resize';
            }

            // //?????????§Ö????Cell
            // table = tTD; while (table.tagName != 'TABLE') table = table.parentElement;
            // for (j = 0; j < table.rows.length; j++) {
            //     table.rows[j].cells[tTD.cellIndex].width = tTD.width;
            // }
            //??????????
            //table.width = tTD.tableWidth + (tTD.offsetWidth ?C tTD.oldWidth);
            //table.style.width = table.width;
          }
        };
      }
    </script>
  </body>
</html>
